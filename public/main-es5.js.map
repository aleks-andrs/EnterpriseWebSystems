{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/navbar/navbar.component.ts","webpack:///src/app/navbar/navbar.component.html","webpack:///src/app/services/api.service.ts","webpack:///src/app/services/guard.auth.ts","webpack:///src/app/services/sharing.service.ts","webpack:///src/app/services/str.encryption.service.ts","webpack:///src/app/services/validate.service.ts","webpack:///src/app/views/decryption/decryption.component.ts","webpack:///src/app/views/decryption/decryption.component.html","webpack:///src/app/views/encryption/encryption.component.ts","webpack:///src/app/views/encryption/encryption.component.html","webpack:///src/app/views/home/home.component.ts","webpack:///src/app/views/home/home.component.html","webpack:///src/app/views/login/login.component.ts","webpack:///src/app/views/login/login.component.html","webpack:///src/app/views/passwordmanager/passwordmanager.component.ts","webpack:///src/app/views/passwordmanager/passwordmanager.component.html","webpack:///src/app/views/register/register.component.ts","webpack:///src/app/views/register/register.component.html","webpack:///src/app/views/selection/selection.component.ts","webpack:///src/app/views/selection/selection.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///crypto (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","pathMatch","redirectTo","component","canActivate","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useValue","declarations","providers","bootstrap","NavbarComponent","validateService","apiService","router","logoutUser","navigate","ApiService","http","helperService","user","httpOptions","headers","post","keyList","loadToken","authToken","put","token","localStorage","setItem","JSON","stringify","clear","get","getItem","id_token","undefined","isTokenExpired","imageUrl","responseType","providedIn","AuthGuard","loggedIn","SharingService","data","StrEncryptionService","secretKey","value","encrypt","trim","toString","textToDecrypt","decrypt","Utf8","passStr","ValidateService","name","username","password","givenString","length","includes","DecryptionComponent","strEncryptionService","flashMessages","isDisabled","decryptionKey","validateEntry","show","cssClass","timeout","validateEntryLength","originalCanvas","document","createElement","selectedImageElement","getElementById","canvasWidth","naturalWidth","canvasHeight","naturalHeight","height","width","originalContext","getContext","drawImage","origImageData","getImageData","pixelData","binaryTxt","stopFlagCount","i","n","pixelValue","bit","match","join","newBinary","split","splice","binaryCode","push","String","fromCharCode","parseInt","encryptedText","setPassword","decryptedTextMessage","decryptedText","err","element","addEventListener","uploadImage","click","event","file","target","files","type","indexOf","innerHTML","reader","FileReader","image","Image","readAsDataURL","onloadend","src","URL","createObjectURL","onload","imageElement","alert","onClickBrowse","onClickDecrypt","EncryptionComponent","sharingService","isVisible","imageSrc","getImageSrc","console","log","getSavedDetails","subscribe","res","info","encryptionPassword","newData","updateUserInfo","success","msg","textToEncrypt","imgWidth","imgHeight","convertTextToBinary","encodeBinaryIntoImage","cryptoText","zeroPad","idx","slice","replace","charCodeAt","newCanvas","newCanvasContext","lengthBinary","Math","ceil","counter","putImageData","newImage","toDataURL","generatedImageElement","onClickEncrypt","HomeComponent","LoginComponent","validateLogin","validateSpecialSymbols","authenticateUser","storeUserData","onLogin","PasswordmanagerComponent","selectedKey","index","RegisterComponent","validateRegister","registerUser","onRegister","SelectionComponent","text","getImagesFromAPI","setImageSrc","getImage","image1","result","error","image2","image3","image4","image5","image6","image7","image8","image9","onClickGet","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SelectionComponent } from './views/selection/selection.component';\r\nimport { EncryptionComponent } from './views/encryption/encryption.component';\r\nimport { DecryptionComponent } from './views/decryption/decryption.component';\r\nimport { LoginComponent } from './views/login/login.component';\r\nimport { RegisterComponent } from './views/register/register.component';\r\nimport { PasswordmanagerComponent } from './views/passwordmanager/passwordmanager.component';\r\nimport { HomeComponent } from './views/home/home.component';\r\nimport { AuthGuard } from \"./services/guard.auth\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'home' },\r\n  { path: 'home', component: HomeComponent },\r\n  { path: 'encryption', component: EncryptionComponent },\r\n  { path: 'decryption', component: DecryptionComponent },\r\n  { path: 'passwordManager', component: PasswordmanagerComponent, canActivate:[AuthGuard]},\r\n  { path: 'selection', component: SelectionComponent },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'steganographyApp';\r\n}\r\n","<header class=\"w3-display-container w3-center\">\r\n  <app-navbar></app-navbar>\r\n</header>\r\n<div class=\"w3-padding-large\">\r\n  <flash-messages></flash-messages>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { JwtHelperService, JWT_OPTIONS } from '@auth0/angular-jwt';\r\nimport { FlashMessagesModule } from 'angular2-flash-messages';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { SelectionComponent } from './views/selection/selection.component';\r\nimport { EncryptionComponent } from './views/encryption/encryption.component';\r\nimport { DecryptionComponent } from './views/decryption/decryption.component';\r\nimport { LoginComponent } from './views/login/login.component';\r\nimport { RegisterComponent } from './views/register/register.component';\r\nimport { PasswordmanagerComponent } from './views/passwordmanager/passwordmanager.component';\r\nimport { HomeComponent } from './views/home/home.component';\r\nimport { ApiService } from './services/api.service';\r\nimport { ValidateService } from './services/validate.service';\r\nimport { AuthGuard } from './services/guard.auth';\r\nimport { SharingService } from './services/sharing.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavbarComponent,\r\n    SelectionComponent,\r\n    EncryptionComponent,\r\n    DecryptionComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    PasswordmanagerComponent,\r\n    HomeComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    FlashMessagesModule.forRoot()\r\n  ],\r\n  providers: [\r\n    { provide: JWT_OPTIONS, useValue: JWT_OPTIONS },\r\n    JwtHelperService,\r\n    ApiService,\r\n    ValidateService,\r\n    SharingService,\r\n    AuthGuard\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ValidateService } from './../services/validate.service';\r\nimport { ApiService } from './../services/api.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor(\r\n    private validateService: ValidateService,\r\n    public apiService: ApiService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onLogoutClick(){\r\n    this.apiService.logoutUser();\r\n    this.router.navigate(['/login']);\r\n    return false;\r\n  }\r\n\r\n}\r\n","  <!-- Navigation Bar -->\r\n  <nav class=\"navbar navbar-expand-lg navbar-light bd-navbar\">\r\n    <a class=\"navbar-brand\" href=\"/home\">Steganographer</a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n      <ul class=\"navbar-nav mr-auto pt-1\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/encryption\">Encryption</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/decryption\">Decryption</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/selection\">Image selection</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a *ngIf=\"apiService.loggedIn()\" class=\"nav-link\" href=\"/passwordManager\">Password manager</a>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"navbar-nav my-2 my-lg-0 pt-1\">\r\n        <li class=\"nav-item\">\r\n          <a *ngIf=\"!apiService.loggedIn()\" class=\"nav-link\" href=\"/login\">Login</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a *ngIf=\"!apiService.loggedIn()\" class=\"nav-link\" href=\"/register\">Register</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a *ngIf=\"apiService.loggedIn()\" (click)=\"onLogoutClick()\" class=\"nav-link\" href=\"/register\">Logout</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n</nav>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from \"rxjs\";\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n  authToken: any;\r\n  user: any;\r\n\r\n  constructor(\r\n    private http:HttpClient,\r\n    private helperService: JwtHelperService\r\n  ) { }\r\n\r\n  //register new user\r\n  registerUser(user): Observable<any> {\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    };\r\n    return this.http.post<any>('users/register', user, httpOptions);\r\n  }\r\n\r\n  //authorise user\r\n  authenticateUser(user): Observable<any> {\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    };\r\n    return this.http.post<any>('users/authenticate', user, httpOptions);\r\n  }\r\n\r\n  //update saved encryption keys\r\n  updateUserInfo(keyList): Observable<any> {\r\n    this.loadToken();\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.authToken\r\n      })\r\n    };\r\n    return this.http.put<any>('users/update', keyList, httpOptions);\r\n  }\r\n\r\n  storeUserData(token, user){\r\n    localStorage.setItem('id_token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    this.authToken = token;\r\n    this.user = user;\r\n  }\r\n\r\n  logoutUser(){\r\n    this.authToken = null;\r\n    this.user = null;\r\n    localStorage.clear();\r\n  }\r\n\r\n  getSavedDetails(): Observable<any> {\r\n    this.loadToken();\r\n    let httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.authToken\r\n      })\r\n    };\r\n    return this.http.get<any>('users/details', httpOptions);\r\n  }\r\n\r\n  //get currently logged in user\r\n  loadToken(){\r\n    const token = localStorage.getItem('id_token');\r\n    this.authToken = token;\r\n  }\r\n\r\n  loggedIn(){\r\n    let helperService = new JwtHelperService();\r\n    if(localStorage.id_token == undefined){\r\n      return false;\r\n    }\r\n    return !helperService.isTokenExpired(localStorage.id_token);\r\n  }\r\n\r\n  getImage(imageUrl: string): Observable<Blob> {\r\n    return this.http.get(imageUrl, { responseType: 'blob' });\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport { Router, CanActivate } from \"@angular/router\";\r\nimport { ApiService } from './api.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate{\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private router: Router\r\n  ){  }\r\n\r\n  canActivate(){\r\n    if(this.apiService.loggedIn()){\r\n      return true;\r\n    } else {\r\n      this.router.navigate(['/login']);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SharingService{\r\n    private data:any = undefined;\r\n\r\n    //pass image data to sharing services\r\n    setImageSrc(data:any){\r\n        this.data = data;\r\n    }\r\n\r\n    //retrieve data\r\n    getImageSrc():any{\r\n        return this.data;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StrEncryptionService {\r\n  secretKey = \"Something\";\r\n\r\n  constructor() { }\r\n\r\n  encrypt(value : string) : string{\r\n    return CryptoJS.AES.encrypt(value, this.secretKey.trim()).toString();\r\n  }\r\n\r\n  decrypt(textToDecrypt : string){\r\n    return CryptoJS.AES.decrypt(textToDecrypt, this.secretKey.trim()).toString(CryptoJS.enc.Utf8);\r\n  }\r\n\r\n  setPassword(passStr : string){\r\n    this.secretKey = passStr;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ValidateService {\r\n\r\n  constructor() { }\r\n\r\n  //validate a user object for register component\r\n  validateRegister(user){\r\n    if(user.name == undefined || user.username == undefined || user.password == undefined || user.name == \"\" || user.username == \"\" || user.password == \"\"){\r\n      return false;\r\n    } else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n  //validate a user object for login component\r\n  validateLogin(user){\r\n    if(user.username == undefined || user.password == undefined || user.username == \"\" || user.password == \"\"){\r\n      return false;\r\n    } else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n  //Validate any field for present text\r\n  validateEntry(givenString){\r\n    if(givenString == undefined || givenString.length < 1){\r\n      return false;\r\n    } else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n  //validate for tags\r\n  validateSpecialSymbols(givenString){\r\n     if(givenString.includes('<') || givenString.includes('>')){\r\n       return false;\r\n     } else{\r\n       return true;\r\n     }\r\n  }\r\n\r\n  //validate any field for length(min 4, max 12)\r\n  validateEntryLength(givenString){\r\n    if(givenString.length < 4 || givenString.length > 12){\r\n      return false;\r\n    } else{\r\n      return true;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StrEncryptionService } from \"./../../services/str.encryption.service\";\r\nimport { ValidateService } from './../../services/validate.service';\r\nimport { FlashMessagesService } from 'angular2-flash-messages';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-decryption',\r\n  templateUrl: './decryption.component.html',\r\n  styleUrls: ['./decryption.component.css']\r\n})\r\nexport class DecryptionComponent implements OnInit {\r\n  decryptedText: string;\r\n  decryptionKey: string;\r\n  isDisabled: boolean;\r\n\r\n  constructor(\r\n    private strEncryptionService: StrEncryptionService,\r\n    private validateService: ValidateService,\r\n    public apiService: ApiService,\r\n    private flashMessages: FlashMessagesService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isDisabled = false;\r\n  }\r\n\r\n\r\n  //select decryption key from password manager\r\n  onClickSelectKey(){\r\n    this.router.navigate(['/passwordManager']);\r\n  }\r\n\r\n\r\n  //decrypt button\r\n  onClickDecrypt() {\r\n    //get user input\r\n    decryptionKey: this.decryptionKey;\r\n    //validate decryption key\r\n    if(!this.validateService.validateEntry(this.decryptionKey)){\r\n      this.flashMessages.show('Decryption key is missing', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    if(!this.validateService.validateEntryLength(this.decryptionKey)){\r\n      this.flashMessages.show('Decryption key must be 4 to 12 symbols long', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n\r\n    //generate canvas object\r\n    var originalCanvas = document.createElement(\"canvas\");\r\n    let selectedImageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n    var canvasWidth = selectedImageElement.naturalWidth;\r\n    var canvasHeight = selectedImageElement.naturalHeight;\r\n    //set canvas dimensions\r\n    originalCanvas.height = canvasHeight;\r\n    originalCanvas.width = canvasWidth;\r\n    //create context\r\n    var originalContext = originalCanvas.getContext(\"2d\");\r\n    //set context\r\n    originalContext.drawImage(selectedImageElement, 0, 0);\r\n    //get pixel data from the image\r\n    var origImageData = originalContext.getImageData(0, 0, canvasWidth, canvasHeight);\r\n    var pixelData = origImageData.data;\r\n    var binaryTxt = \"\";\r\n    var stopFlagCount = 0;\r\n    //read binary from the picture\r\n    for (var i = 0, n = pixelData.length; i < n; i += 4) {\r\n      for (var pixelValue =0; pixelValue < 3; pixelValue ++) {\r\n        var bit = 0;\r\n        if(pixelData[i + pixelValue] %2 != 0) {\r\n          bit = 1;\r\n          //reset end flag counter\r\n          stopFlagCount = 0;\r\n        }\r\n        stopFlagCount += 1;\r\n        binaryTxt += bit;\r\n        //stop reading binary when end flag reached\r\n        if(stopFlagCount>12){\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    //insert a space after every 8 bits\r\n    binaryTxt = binaryTxt.match(/.{1,8}/g).join(\" \");\r\n    //convert to arrray\r\n    var newBinary = binaryTxt.split(\" \");\r\n    //check for start flag(first 2 empty bits)\r\n    if(newBinary[0]==\"10000001\" && newBinary[1]==\"00000001\"){\r\n      //remove the flag from the list\r\n       newBinary.splice(0,2);\r\n    } else{\r\n      this.flashMessages.show(\"Provided image does not contain a message\", {cssClass: 'alert-danger', timeout:3000});\r\n      return;\r\n    }\r\n    var binaryCode = [];\r\n    //read data until the first empty byte\r\n    for (i = 0; i < newBinary.length; i++) {\r\n      if(newBinary[i] != \"00000000\"){\r\n        binaryCode.push(String.fromCharCode(parseInt(newBinary[i], 2)));\r\n      } else{\r\n        break;\r\n      }\r\n    }\r\n    //get encrypted text\r\n    var encryptedText = binaryCode.join(\"\");\r\n    //set decryption key\r\n    this.strEncryptionService.setPassword(this.decryptionKey);\r\n    //decrypt text\r\n    try {\r\n      let decryptedTextMessage = this.strEncryptionService.decrypt(encryptedText);\r\n      if(decryptedTextMessage == \"\" || decryptedTextMessage == undefined){\r\n        throw \"error\";\r\n      }\r\n      //display decrypted text\r\n      this.isDisabled = true;\r\n      this.decryptedText = decryptedTextMessage;\r\n    } catch(err){\r\n      this.isDisabled = false;\r\n      this.flashMessages.show(\"Wrong Decryption key used. Please try again\", {cssClass: 'alert-danger', timeout:3000});\r\n    }\r\n  }\r\n\r\n\r\n  //simulate button press on 'fileUpload' button\r\n  onClickBrowse(){\r\n    let element: HTMLElement = document.getElementById('fileUpload') as HTMLElement;\r\n    element.addEventListener(\"change\", this.uploadImage);\r\n    element.click();\r\n  }\r\n\r\n  //select and upload image\r\n  uploadImage(event: any){\r\n    var file =  event.target.files[0];\r\n    //check the uploaded file type\r\n    if(file.type.indexOf(\"image\") !== -1){\r\n      //set image name\r\n      document.getElementById('lblUpload').innerHTML = file.name;\r\n      //read image\r\n      var reader = new FileReader();\r\n      var image = new Image;\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = function () {\r\n        image.src = URL.createObjectURL(file);\r\n        image.onload = function() {\r\n          let imageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n          imageElement.src = image.src\r\n        }\r\n      }\r\n    } else {\r\n      alert(\"Selected file is not an image type\");\r\n    }\r\n  }\r\n\r\n}\r\n","<!-- Decrypt frame -->\r\n<div class=\"w3-display-container\">\r\n\t<div class=\"w3-padding-16 w3-center\">\r\n\t\t<h2>Decrypt text</h2>\r\n\t</div>\r\n\t<div class=\"w3-row-padding\">\r\n\t\t<div class=\"w3-panel w3-padding w3-border w3-round-xlarge\">\r\n\t\t\t<p>To decode hidden text from an image, please select the right image and provide a corresponding decryption key. Keys may be stored in the Password Manager.</p>\r\n\t\t</div>\r\n\t\t<!-- Left side -->\r\n\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t<div class=\"w3-padding w3-half\">\r\n\t\t\t\t<input type=\"file\" id=\"fileUpload\" name=\"file\" style=\"display: none\" accept=\"image/*\">\r\n\t\t\t\t<button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickBrowse()\">Browse...</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding-16 w3-half\">\r\n\t\t\t\t<label id=\"lblUpload\">upload image</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding\">\r\n\t\t\t\t<img class=\"w3-image\" src=\"assets/images/placeholder.jpg\" alt=\"Placeholder\" id=\"selectedImage\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Right side -->\r\n\t\t<div class=\"w3-rest w3-padding\">\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<input class=\"w3-input w3-border w3-round\" type=\"password\" placeholder=\"Decryption key\" [(ngModel)]=\"decryptionKey\" name=\"decryptionKey\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickDecrypt()\">Decrypt</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<button *ngIf=\"apiService.loggedIn()\" class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickSelectKey()\">Select Key</button>\r\n\t\t\t\t<button *ngIf=\"!apiService.loggedIn()\" class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" [disabled]=\"true\">Select Key</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding\">\r\n\t\t\t\t<textarea class=\"w3-input w3-border w3-round\" [disabled]=\"!isDisabled\" placeholder=\"Decrypted text\" rows=\"8\" [(ngModel)]=\"decryptedText\" name=\"decryptedText\"></textarea>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StrEncryptionService } from \"./../../services/str.encryption.service\";\r\nimport { ValidateService } from './../../services/validate.service';\r\nimport { FlashMessagesService } from 'angular2-flash-messages';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { SharingService } from './../../services/sharing.service';\r\n\r\n@Component({\r\n  selector: 'app-encryption',\r\n  templateUrl: './encryption.component.html',\r\n  styleUrls: ['./encryption.component.css']\r\n})\r\nexport class EncryptionComponent implements OnInit {\r\n  imageSrc:any;\r\n  textToEncrypt: string;\r\n  encryptionPassword: string;\r\n  isVisible: boolean;\r\n  user: any;\r\n  keyList: [any];\r\n\r\n  constructor(\r\n    private strEncryptionService: StrEncryptionService,\r\n    private validateService: ValidateService,\r\n    private sharingService: SharingService,\r\n    public apiService: ApiService,\r\n    private flashMessages: FlashMessagesService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.isVisible = false;\r\n    this.imageSrc = this.sharingService.getImageSrc();\r\n    try{\r\n      if(this.imageSrc){\r\n        let imageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n        imageElement.src = this.imageSrc;\r\n      }\r\n    } catch(err){\r\n      console.log(err);\r\n    }\r\n\r\n\r\n\r\n    if(this.apiService.loggedIn()){\r\n      //get the list of all keys associated with user\r\n      this.apiService.getSavedDetails().subscribe( res => {\r\n        let data = {} as any;\r\n        data = res;\r\n        this.user = data.user;\r\n        this.keyList = this.user.info;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n        return false;\r\n      });\r\n    }\r\n  }\r\n\r\n  onClickSaveKey(){\r\n    encryptionPassword: this.encryptionPassword;\r\n    //Validate encryption key field\r\n    if(!this.validateService.validateEntry(this.encryptionPassword)){\r\n      this.flashMessages.show('Encryption key is missing', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    if(!this.validateService.validateEntryLength(this.encryptionPassword)){\r\n      this.flashMessages.show('Encryption key must be 4 to 12 symbols long', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //insert key in the list\r\n    this.keyList.push(this.encryptionPassword);\r\n    //save in the appropriate format\r\n    var newData = {\r\n      info: this.keyList\r\n    }\r\n    this.apiService.updateUserInfo(newData).subscribe( res => {\r\n      if(res.success){\r\n        this.flashMessages.show(res.msg, {cssClass: 'alert-success', timeout:3000});\r\n      } else{\r\n        this.flashMessages.show(res.msg, {cssClass: 'alert-danger', timeout:3000});\r\n      }\r\n    },\r\n    err => {\r\n      console.log(err);\r\n      return false;\r\n    });\r\n  }\r\n\r\n  onClickEncrypt() {\r\n    //get user input\r\n    textToEncrypt: this.textToEncrypt;\r\n    encryptionPassword: this.encryptionPassword;\r\n    //Validate text field\r\n    if(!this.validateService.validateEntry(this.textToEncrypt)){\r\n      this.flashMessages.show('No text provided for encryption', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //Validate encryption key field\r\n    if(!this.validateService.validateEntry(this.encryptionPassword)){\r\n      this.flashMessages.show('Encryption key missing', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    if(!this.validateService.validateEntryLength(this.encryptionPassword)){\r\n      this.flashMessages.show('Encryption key must be 4 to 12 symbols long', {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //set password\r\n    this.strEncryptionService.setPassword(this.encryptionPassword);\r\n    //encrypt text\r\n    let encryptedText = this.strEncryptionService.encrypt(this.textToEncrypt);\r\n\r\n    //get chosen image\r\n    let imageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n    var imgWidth = imageElement.naturalWidth;\r\n    var imgHeight = imageElement.naturalHeight;\r\n\r\n    //check if text length is too long to be encoded in the picture\r\n    if (((encryptedText.length+32) * 8) > (imgHeight * imgWidth * 3)) {\r\n      this.flashMessages.show(\"Provided text is too long for this picture\", {cssClass: 'alert-danger', timeout:3000});\r\n      return;\r\n    }\r\n    //convert text to binary\r\n    var binaryCode = this.convertTextToBinary(encryptedText);\r\n    //encode binary code inside the picture\r\n    this.encodeBinaryIntoImage(binaryCode);\r\n  }\r\n\r\n  //text to binary converter\r\n  convertTextToBinary(cryptoText){\r\n    function zeroPad(idx) {\r\n        return \"00000000\".slice(String(idx).length) + idx;\r\n    }\r\n    return cryptoText.replace(/[\\s\\S]/g, function(cryptoText) {\r\n        cryptoText = zeroPad(cryptoText.charCodeAt().toString(2));\r\n        return cryptoText\r\n    });\r\n  }\r\n\r\n  encodeBinaryIntoImage(binaryTxt){\r\n    //create canvas objects\r\n    var originalCanvas = document.createElement(\"canvas\");\r\n    var newCanvas = document.createElement(\"canvas\");\r\n    //get selected image details\r\n    let selectedImageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n    var canvasWidth = selectedImageElement.naturalWidth;\r\n    var canvasHeight = selectedImageElement.naturalHeight;\r\n    //set canvas dimensions\r\n    originalCanvas.height = canvasHeight;\r\n    originalCanvas.width = canvasWidth;\r\n    newCanvas.height = canvasHeight;\r\n    newCanvas.width = canvasWidth;\r\n    //generate context\r\n    var originalContext = originalCanvas.getContext(\"2d\");\r\n    var newCanvasContext = newCanvas.getContext(\"2d\");\r\n    //set context\r\n    originalContext.drawImage(selectedImageElement, 0, 0);\r\n    //read pixel data\r\n    var origImageData = originalContext.getImageData(0, 0, canvasWidth, canvasHeight);\r\n    var pixelData = origImageData.data;\r\n    //append binary text with 2 empty bytes(start flag)\r\n    binaryTxt = \"1000000100000001\" + binaryTxt;\r\n    //get binary text length and add space for 2 more empty bytes(16 bits) at the end\r\n    var lengthBinary = Math.ceil(binaryTxt.length/3)*4+16;\r\n    //equalize the data and encode binary message\r\n    var counter = 0;\r\n    for (var i = 0, n = lengthBinary; i < n; i += 4) {\r\n      for (var pixelValue = 0; pixelValue < 3; pixelValue ++) {\r\n        if (counter < binaryTxt.length) {\r\n          if (pixelData[i + pixelValue] %2 != 0){\r\n            pixelData[i + pixelValue]--;\r\n          }\r\n          pixelData[i + pixelValue] += parseInt(binaryTxt[counter]);\r\n          counter++;\r\n        }\r\n        else {\r\n          //attach empty bytes at the end of the string\r\n          if (pixelData[i + pixelValue] %2 != 0){\r\n            pixelData[i + pixelValue]--;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //upload pixels with encoded string to the canvas and convert to png image\r\n    newCanvasContext.putImageData(origImageData, 0, 0);\r\n    newCanvasContext.drawImage(newCanvas, 0, 0, canvasWidth, canvasHeight);\r\n    var newImage = new Image();\r\n    newImage.src = newCanvas.toDataURL(\"image/png\");\r\n    this.isVisible = true;\r\n    //load new picture\r\n    let generatedImageElement: HTMLImageElement = document.getElementById('resultImage') as HTMLImageElement;\r\n    generatedImageElement.src = newImage.src;\r\n  }\r\n\r\n\r\n  //simulate browse button click\r\n  onClickBrowse(){\r\n    let element: HTMLElement = document.getElementById('fileUpload') as HTMLElement;\r\n    element.addEventListener(\"change\", this.uploadImage);\r\n    element.click();\r\n  }\r\n\r\n  //select and upload image\r\n  uploadImage(event: any){\r\n    var file =  event.target.files[0];\r\n    //check the uploaded file type\r\n    if(file.type.indexOf(\"image\") !== -1){\r\n      //set image name\r\n      document.getElementById('lblUpload').innerHTML = file.name;\r\n      //read image\r\n      var reader = new FileReader();\r\n      var image = new Image;\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = function () {\r\n        image.src = URL.createObjectURL(file);\r\n        image.onload = function() {\r\n          let imageElement: HTMLImageElement = document.getElementById('selectedImage') as HTMLImageElement;\r\n          imageElement.src = image.src\r\n        }\r\n      }\r\n    } else {\r\n      alert(\"Selected file is not an image type\");\r\n    }\r\n  }\r\n}\r\n","<!-- Encrypt frame -->\r\n<div class=\"w3-display-container\">\r\n\t<div class=\"w3-padding-16 w3-center\">\r\n\t\t<h2>Encrypt text</h2>\r\n\t</div>\r\n\t<div class=\"w3-row-padding\">\r\n\t\t<div class=\"w3-panel w3-padding  w3-border w3-round-xlarge\">\r\n\t\t\t<p>To encode a text into an image, please enter the text, select the image and provide an encryption key.\r\n\t\t\t\tThe encryption key can be saved in the Password Manager for later use. NOTE: Avoid using large files as\r\n\t\t\t\timage encoding can be a computationally heavy process!</p>\r\n\t\t</div>\r\n\t\t<!-- Left side -->\r\n\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t<div class=\"w3-padding w3-half\">\r\n\t\t\t\t<input type=\"file\" id=\"fileUpload\" name=\"file\" style=\"display: none\" accept=\"image/*\">\r\n\t\t\t\t<button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickBrowse()\">Browse...</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding-16 w3-half\">\r\n\t\t\t\t<label id=\"lblUpload\">upload or select image</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding\">\r\n\t\t\t\t<img class=\"w3-image\" src=\"assets/images/placeholder.jpg\" alt=\"Placeholder\" id=\"selectedImage\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-padding\" [hidden]=\"!isVisible\">\r\n\t\t\t\t<p>Right-click to Save this image:</p>\r\n\t\t\t\t<img class=\"w3-image\" src=\"assets/images/placeholder.jpg\" alt=\"Placeholder\" id=\"resultImage\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Right side -->\r\n\t\t<div class=\"w3-rest w3-padding\">\r\n\t\t\t<div class=\"w3-padding\">\r\n\t\t\t\t<textarea class=\"w3-input w3-border w3-round\" placeholder=\"Text to encrypt\" rows=\"8\" [(ngModel)]=\"textToEncrypt\" name=\"textToEncrypt\"></textarea>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<input class=\"w3-input w3-border w3-round\" type=\"password\" placeholder=\"Encryption key\" [(ngModel)]=\"encryptionPassword\" name=\"encryptionPassword\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickEncrypt()\">Encrypt</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w3-third w3-padding\">\r\n\t\t\t\t<button *ngIf=\"apiService.loggedIn()\" class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" (click)=\"onClickSaveKey()\">Save Key</button>\r\n\t\t\t\t<button *ngIf=\"!apiService.loggedIn()\" class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge w3-cell-row\" [disabled]=\"true\">Save Key</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<!-- Home frame -->\r\n<div class=\"w3-display-container\">\r\n  <div class=\"w3-padding-16 w3-center\">\r\n    <h2>Steganographer</h2>\r\n  </div>\r\n  <div class=\"w3-container w3-padding-large\">\r\n    <div class=\"w3-panel w3-padding-large w3-border w3-round-xlarge\">\r\n      <h4>About:</h4>\r\n      <p>Steganographer is a web application built on a MEAN stack. The\r\n        main purpose of this web application is to provide a secure steganographic\r\n        functionality, which is implemented by encoding and decoding of encrypted text\r\n        payload within a given image. The encryption of the payload is handled by\r\n        Advanced Encryption Standard (AES) algorithm. Additionally, registered Users have\r\n        an option to store their AES Encryption Keys in an online Password Manager.</p>\r\n    </div>\r\n    <div class=\"w3-panel w3-padding-large w3-border w3-round-xlarge\">\r\n      <h4>Third party content</h4>\r\n      <p>This application is utilising a <a href='https://www.mongodb.com/cloud/atlas'>MongoDB Atlas</a>\r\n        cloud database for User data storage\r\n        and an external image API service called <a href='https://picsum.photos/'>Lorem Picsum</a>\r\n        for random stock images retrieval. The application is developed with help of Bootstrap\r\n        and W3.CSS frameworks, text encryption is implemented using <a href='https://github.com/brix/crypto-js'>CryptoJS</a> library.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ValidateService } from './../../services/validate.service';\r\nimport { FlashMessagesService } from 'angular2-flash-messages';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  username: String;\r\n  password: String;\r\n\r\n  constructor(\r\n    private validateService: ValidateService,\r\n    private flashMessages: FlashMessagesService,\r\n    private apiService: ApiService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onLogin() {\r\n    const user = {\r\n      username: this.username,\r\n      password: this.password\r\n    }\r\n\r\n    //validate that all fields are entered\r\n    if(!this.validateService.validateLogin(user)){\r\n      this.flashMessages.show(\"Please fill in all fields\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n\r\n    //validate that password is the right length\r\n    if(!this.validateService.validateEntryLength(this.password)){\r\n      this.flashMessages.show(\"Password must be 4 to 12 symbols long\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //restrict special symbols\r\n    if(!this.validateService.validateSpecialSymbols(this.password)){\r\n      this.flashMessages.show(\"< > tags are not allowed\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //restrict special symbols\r\n    if(!this.validateService.validateSpecialSymbols(this.username)){\r\n      this.flashMessages.show(\"< > tags are not allowed\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n\r\n    //Authenticate user\r\n    this.apiService.authenticateUser(user).subscribe(data => {\r\n      if(data.success){\r\n        this.apiService.storeUserData(data.token, data.user);\r\n        this.router.navigate(['/home']);\r\n      } else {\r\n        this.flashMessages.show(data.msg, {cssClass: 'alert-danger', timeout:3000});\r\n        this.router.navigate(['/login']);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<!-- Login frame -->\r\n<div class=\"w3-display-container\">\r\n  <div class=\"w3-padding-16 w3-center\">\r\n    <h2>Login</h2>\r\n  </div>\r\n  <div class=\"w3-container\">\r\n    <form (submit)=\"onLogin()\">\r\n      <div class=\"w3-panel w3-border w3-round-xlarge\">\r\n        <div class=\"w3-panel\">\r\n          <p>Username:</p>\r\n          <input class=\"w3-input w3-border w3-round\" type=\"text\" placeholder=\"Username\" [(ngModel)]=\"username\" name=\"username\">\r\n        </div>\r\n        <div class=\"w3-panel\">\r\n          <p>Password:</p>\r\n          <input class=\"w3-input w3-border w3-round\" type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\">\r\n        </div>\r\n      </div>\r\n      <div class=\"w3-padding-16 w3-center\">\r\n        <button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge\" type=\"submit\">Login</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { FlashMessagesService } from 'angular2-flash-messages';\r\n\r\n@Component({\r\n  selector: 'app-passwordmanager',\r\n  templateUrl: './passwordmanager.component.html',\r\n  styleUrls: ['./passwordmanager.component.css']\r\n})\r\nexport class PasswordmanagerComponent implements OnInit {\r\n  user: any;\r\n  keyList: [any];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private flashMessages: FlashMessagesService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.apiService.getSavedDetails().subscribe( res => {\r\n      let data = {} as any;\r\n      data = res;\r\n      this.user = data.user;\r\n      this.keyList = this.user.info;\r\n    },\r\n    err => {\r\n      console.log(err);\r\n      return false;\r\n    });\r\n  }\r\n\r\n  //delete selected key from the list\r\n  onClickDelete(selectedKey){\r\n    //remove selected key\r\n    var index = this.keyList.indexOf(selectedKey);\r\n    if (index !== -1) this.keyList.splice(index, 1);\r\n    var newData = {\r\n      info: this.keyList\r\n    }\r\n    this.apiService.updateUserInfo(newData).subscribe( res => {\r\n      if(res.success){\r\n        this.flashMessages.show(res.msg, {cssClass: 'alert-success', timeout:3000});\r\n      } else{\r\n        this.flashMessages.show(res.msg, {cssClass: 'alert-danger', timeout:3000});\r\n      }\r\n    },\r\n    err => {\r\n      console.log(err);\r\n      return false;\r\n    });\r\n  }\r\n\r\n}\r\n","<!-- Password Manager frame -->\r\n<div class=\"w3-display-container\">\r\n  <div *ngIf=\"user\" class=\"w3-padding-large\">\r\n    <div class=\"w3-padding-16 w3-center\">\r\n      <h2>Password Manager</h2>\r\n    </div>\r\n    <div class=\"w3-panel w3-padding-large\">\r\n      <div class=\"w3-panel\">\r\n        <h4>Welcome, {{user.name}}</h4>\r\n        <p>Password Manager contains a list of your Encryption Keys. Add new Encryption Keys from the \"Encryption\" Menu or delete the old ones below.</p>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"keyList.length>0\">\r\n      <ul>\r\n        <li *ngFor=\"let item of keyList\">\r\n          <div class=\"w3-panel w3-border w3-round-xlarge\">\r\n            <div class=\"w3-panel w3-center\">\r\n              <p>KEY:&nbsp;&nbsp;&nbsp;&nbsp; {{ item }}</p>\r\n              <div class=\"w3-center\">\r\n                <button class=\"w3-button w3-light-gray w3-text-red w3-ripple w3-margin w3-round-xxlarge\" (click)=\"onClickDelete(item)\">Delete</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { ValidateService } from './../../services/validate.service';\r\nimport { FlashMessagesService } from 'angular2-flash-messages';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  name: String;\r\n  username: String;\r\n  password: String;\r\n  info: String;\r\n\r\n  constructor(\r\n    private validateService: ValidateService,\r\n    private flashMessages: FlashMessagesService,\r\n    private apiService: ApiService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onRegister() {\r\n    const user = {\r\n      name: this.name,\r\n      username: this.username,\r\n      password: this.password,\r\n      info: []\r\n    }\r\n\r\n    //validate that all fields are entered\r\n    if(!this.validateService.validateRegister(user)){\r\n      this.flashMessages.show(\"Please fill in all fields\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n\r\n    //validate that password is the right length\r\n    if(!this.validateService.validateEntryLength(this.password)){\r\n      this.flashMessages.show(\"Password must be 4 to 12 symbols long\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //restrict special symbols\r\n    if(!this.validateService.validateSpecialSymbols(this.name)){\r\n      this.flashMessages.show(\"< > tags are not allowed\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //restrict special symbols\r\n    if(!this.validateService.validateSpecialSymbols(this.password)){\r\n      this.flashMessages.show(\"< > tags are not allowed\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n    //restrict special symbols\r\n    if(!this.validateService.validateSpecialSymbols(this.username)){\r\n      this.flashMessages.show(\"< > tags are not allowed\", {cssClass: 'alert-danger', timeout:3000});\r\n      return false;\r\n    }\r\n\r\n\r\n    //register user\r\n    this.apiService.registerUser(user).subscribe(data => {\r\n      if(data.success){\r\n        this.flashMessages.show(\"New user registered\", {cssClass: 'alert-success', timeout:3000});\r\n        this.router.navigate(['/login']);\r\n      } else {\r\n        this.flashMessages.show(data.msg, {cssClass: 'alert-danger', timeout:3000});\r\n        this.router.navigate(['/register']);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<!-- Register frame -->\r\n<div class=\"w3-display-container\">\r\n  <div class=\"w3-padding-16 w3-center\">\r\n    <h2>Register</h2>\r\n  </div>\r\n  <div class=\"w3-container\">\r\n    <form (submit)=\"onRegister()\">\r\n      <div class=\"w3-panel w3-border w3-round-xlarge\">\r\n        <div class=\"w3-panel\">\r\n          <p>Enter your name:</p>\r\n          <input class=\"w3-input w3-border w3-round\" type=\"text\" placeholder=\"Name\" [(ngModel)]=\"name\" name=\"name\">\r\n        </div>\r\n        <div class=\"w3-panel\">\r\n          <p>Select username:</p>\r\n          <input class=\"w3-input w3-border w3-round\" type=\"text\" placeholder=\"Username\" [(ngModel)]=\"username\" name=\"username\">\r\n        </div>\r\n        <div class=\"w3-panel\">\r\n          <p>Select password:</p>\r\n          <input class=\"w3-input w3-border w3-round\" type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\">\r\n        </div>\r\n      </div>\r\n      <div class=\"w3-padding-16 w3-center\">\r\n        <button class=\"w3-button w3-light-gray w3-ripple w3-round-xxlarge\" type=\"submit\">Register</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { SharingService } from './../../services/sharing.service';\r\n\r\n@Component({\r\n  selector: 'app-selection',\r\n  templateUrl: './selection.component.html',\r\n  styleUrls: ['./selection.component.css']\r\n})\r\nexport class SelectionComponent implements OnInit {\r\n  data:any = {text: \"example\"};\r\n  image1: any;\r\n  image2: any;\r\n  image3: any;\r\n  image4: any;\r\n  image5: any;\r\n  image6: any;\r\n  image7: any;\r\n  image8: any;\r\n  image9: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sharingService: SharingService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    //load images from Picsum API\r\n    this.getImagesFromAPI();\r\n  }\r\n\r\n  //get image src and pass to encryption component\r\n  onClickGet(src){\r\n    this.sharingService.setImageSrc(src);\r\n    this.router.navigate(['/encryption']);\r\n  }\r\n\r\n  getImagesFromAPI(){\r\n    this.apiService.getImage(\"https://picsum.photos/1366/768\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image1 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/750/750\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image2 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/720/1024\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image3 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/720/1024\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image4 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/1366/768\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image5 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/750/750\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image6 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/750/750\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image7 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/720/1024\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image8 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.apiService.getImage(\"https://picsum.photos/1366/768\").subscribe(res => {\r\n      let reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => {\r\n        this.image9 = reader.result;\r\n      }, false);\r\n      if (res) {\r\n        reader.readAsDataURL(res);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n  }\r\n}\r\n","<!-- Photo grid -->\r\n<div class=\"w3-row-padding\">\r\n\t<div class=\"w3-padding-16 w3-center\">\r\n    <h2>Image selection</h2>\r\n  </div>\r\n\t<div class=\"w3-panel w3-center w3-border w3-round-xlarge\">\r\n\t\t<p class=\"w3-padding-16\">Click the image to select for encryption:</p>\r\n\t</div>\r\n\t<br>\r\n\t<div class=\"w3-third\">\r\n\t\t<img #img1 src={{image1}} style=\"width:100%\" (click)=\"onClickGet(img1.src)\">\r\n\t\t<img #img2 src={{image2}} style=\"width:100%\" (click)=\"onClickGet(img2.src)\">\r\n\t\t<img #img3 src={{image3}} style=\"width:100%\" (click)=\"onClickGet(img3.src)\">\r\n\t</div>\r\n\r\n\t<div class=\"w3-third\">\r\n\t\t<img #img4 src={{image4}} style=\"width:100%\" (click)=\"onClickGet(img4.src)\">\r\n\t\t<img #img5 src={{image5}} style=\"width:100%\" (click)=\"onClickGet(img5.src)\">\r\n\t\t<img #img6 src={{image6}} style=\"width:100%\" (click)=\"onClickGet(img6.src)\">\r\n\t</div>\r\n\r\n\t<div class=\"w3-third\">\r\n\t\t<img #img7 src={{image7}} style=\"width:100%\" (click)=\"onClickGet(img7.src)\">\r\n\t\t<img #img8 src={{image8}} style=\"width:100%\" (click)=\"onClickGet(img8.src)\">\r\n\t\t<img #img9 src={{image9}} style=\"width:100%\" (click)=\"onClickGet(img9.src)\">\r\n\t</div>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */"]}